{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _once = require('lodash/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _fp = require('lodash/fp');\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar OTPublisher = function (_Component) {\n  _inherits(OTPublisher, _Component);\n\n  function OTPublisher(props, context) {\n    _classCallCheck(this, OTPublisher);\n\n    var _this = _possibleConstructorReturn(this, (OTPublisher.__proto__ || Object.getPrototypeOf(OTPublisher)).call(this, props));\n\n    _this.sessionConnectedHandler = function () {\n      _this.publishToSession(_this.state.publisher);\n    };\n\n    _this.streamCreatedHandler = function (event) {\n      _this.setState({\n        lastStreamId: event.stream.id\n      });\n    };\n\n    _this.state = {\n      publisher: null,\n      lastStreamId: '',\n      session: props.session || context.session || null\n    };\n    return _this;\n  }\n\n  _createClass(OTPublisher, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.createPublisher();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var useDefault = function useDefault(value, defaultValue) {\n        return value === undefined ? defaultValue : value;\n      };\n\n      var shouldUpdate = function shouldUpdate(key, defaultValue) {\n        var previous = useDefault(prevProps.properties[key], defaultValue);\n        var current = useDefault(_this2.props.properties[key], defaultValue);\n        return previous !== current;\n      };\n\n      var updatePublisherProperty = function updatePublisherProperty(key, defaultValue) {\n        if (shouldUpdate(key, defaultValue)) {\n          var value = useDefault(_this2.props.properties[key], defaultValue);\n\n          _this2.state.publisher[key](value);\n        }\n      };\n\n      if (shouldUpdate('videoSource', undefined)) {\n        this.destroyPublisher();\n        this.createPublisher();\n        return;\n      }\n\n      updatePublisherProperty('publishAudio', true);\n      updatePublisherProperty('publishVideo', true);\n\n      if (this.state.session !== prevState.session) {\n        this.destroyPublisher(prevState.session);\n        this.createPublisher();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.state.session) {\n        this.state.session.off('sessionConnected', this.sessionConnectedHandler);\n      }\n\n      this.destroyPublisher();\n    }\n  }, {\n    key: 'getPublisher',\n    value: function getPublisher() {\n      return this.state.publisher;\n    }\n  }, {\n    key: 'destroyPublisher',\n    value: function destroyPublisher() {\n      var _this3 = this;\n\n      var session = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.session;\n      delete this.publisherId;\n\n      if (this.state.publisher) {\n        this.state.publisher.off('streamCreated', this.streamCreatedHandler);\n\n        if (this.props.eventHandlers && _typeof(this.props.eventHandlers) === 'object') {\n          this.state.publisher.once('destroyed', function () {\n            _this3.state.publisher.off(_this3.props.eventHandlers);\n          });\n        }\n\n        if (session) {\n          session.unpublish(this.state.publisher);\n        }\n\n        this.state.publisher.destroy();\n      }\n    }\n  }, {\n    key: 'publishToSession',\n    value: function publishToSession(publisher) {\n      var _this4 = this;\n\n      var publisherId = this.publisherId;\n      this.state.session.publish(publisher, function (err) {\n        if (publisherId !== _this4.publisherId) {\n          // Either this publisher has been recreated or the\n          // component unmounted so don't invoke any callbacks\n          return;\n        }\n\n        if (err) {\n          _this4.errorHandler(err);\n        } else if (typeof _this4.props.onPublish === 'function') {\n          _this4.props.onPublish();\n        }\n      });\n    }\n  }, {\n    key: 'createPublisher',\n    value: function createPublisher() {\n      var _this5 = this;\n\n      if (!this.state.session) {\n        this.setState({\n          publisher: null,\n          lastStreamId: ''\n        });\n        return;\n      }\n\n      var properties = this.props.properties || {};\n      var container = void 0;\n\n      if (properties.insertDefaultUI !== false) {\n        container = document.createElement('div');\n        container.setAttribute('class', 'OTPublisherContainer');\n        this.node.appendChild(container);\n      }\n\n      this.publisherId = (0, _uuid2.default)();\n      var publisherId = this.publisherId;\n      this.errorHandler = (0, _once2.default)(function (err) {\n        if (publisherId !== _this5.publisherId) {\n          // Either this publisher has been recreated or the\n          // component unmounted so don't invoke any callbacks\n          return;\n        }\n\n        if (typeof _this5.props.onError === 'function') {\n          _this5.props.onError(err);\n        }\n      });\n      var publisher = OT.initPublisher(container, properties, function (err) {\n        if (publisherId !== _this5.publisherId) {\n          // Either this publisher has been recreated or the\n          // component unmounted so don't invoke any callbacks\n          return;\n        }\n\n        if (err) {\n          _this5.errorHandler(err);\n        } else if (typeof _this5.props.onInit === 'function') {\n          _this5.props.onInit();\n        }\n      });\n      publisher.on('streamCreated', this.streamCreatedHandler);\n\n      if (this.props.eventHandlers && _typeof(this.props.eventHandlers) === 'object') {\n        var handles = (0, _fp.omitBy)(_fp.isNil)(this.props.eventHandlers);\n        publisher.on(handles);\n      }\n\n      if (this.state.session.connection) {\n        this.publishToSession(publisher);\n      } else {\n        this.state.session.once('sessionConnected', this.sessionConnectedHandler);\n      }\n\n      this.setState({\n        publisher: publisher,\n        lastStreamId: ''\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style;\n      return _react2.default.createElement('div', {\n        className: className,\n        style: style,\n        ref: function ref(node) {\n          _this6.node = node;\n        }\n      });\n    }\n  }]);\n\n  return OTPublisher;\n}(_react.Component);\n\nexports.default = OTPublisher;\nOTPublisher.propTypes = {\n  session: _propTypes2.default.shape({\n    connection: _propTypes2.default.shape({\n      connectionId: _propTypes2.default.string\n    }),\n    once: _propTypes2.default.func,\n    off: _propTypes2.default.func,\n    publish: _propTypes2.default.func,\n    unpublish: _propTypes2.default.func\n  }),\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object,\n  // eslint-disable-line react/forbid-prop-types\n  properties: _propTypes2.default.object,\n  // eslint-disable-line react/forbid-prop-types\n  eventHandlers: _propTypes2.default.objectOf(_propTypes2.default.func),\n  onInit: _propTypes2.default.func,\n  onPublish: _propTypes2.default.func,\n  onError: _propTypes2.default.func\n};\nOTPublisher.defaultProps = {\n  session: null,\n  className: '',\n  style: {},\n  properties: {},\n  eventHandlers: null,\n  onInit: null,\n  onPublish: null,\n  onError: null\n};\nOTPublisher.contextTypes = {\n  session: _propTypes2.default.shape({\n    connection: _propTypes2.default.shape({\n      connectionId: _propTypes2.default.string\n    }),\n    once: _propTypes2.default.func,\n    off: _propTypes2.default.func,\n    publish: _propTypes2.default.func,\n    unpublish: _propTypes2.default.func\n  })\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_once","_once2","_fp","_uuid","_uuid2","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","OTPublisher","_Component","context","_this","getPrototypeOf","sessionConnectedHandler","publishToSession","state","publisher","streamCreatedHandler","event","setState","lastStreamId","stream","id","session","componentDidMount","createPublisher","componentDidUpdate","prevProps","prevState","_this2","useDefault","defaultValue","undefined","shouldUpdate","previous","properties","current","updatePublisherProperty","destroyPublisher","componentWillUnmount","off","getPublisher","_this3","arguments","publisherId","eventHandlers","once","unpublish","destroy","_this4","publish","err","errorHandler","onPublish","_this5","container","insertDefaultUI","document","createElement","setAttribute","node","appendChild","onError","OT","initPublisher","onInit","on","handles","omitBy","isNil","connection","render","_this6","_props","className","style","ref","Component","propTypes","shape","connectionId","string","func","object","objectOf","defaultProps","contextTypes"],"sources":["/Users/megnabiederman/Desktop/GamerECSAMPLE copy 2/client/node_modules/opentok-react/dist/OTPublisher.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _once = require('lodash/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _fp = require('lodash/fp');\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar OTPublisher = function (_Component) {\n  _inherits(OTPublisher, _Component);\n\n  function OTPublisher(props, context) {\n    _classCallCheck(this, OTPublisher);\n\n    var _this = _possibleConstructorReturn(this, (OTPublisher.__proto__ || Object.getPrototypeOf(OTPublisher)).call(this, props));\n\n    _this.sessionConnectedHandler = function () {\n      _this.publishToSession(_this.state.publisher);\n    };\n\n    _this.streamCreatedHandler = function (event) {\n      _this.setState({ lastStreamId: event.stream.id });\n    };\n\n    _this.state = {\n      publisher: null,\n      lastStreamId: '',\n      session: props.session || context.session || null\n    };\n    return _this;\n  }\n\n  _createClass(OTPublisher, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.createPublisher();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var useDefault = function useDefault(value, defaultValue) {\n        return value === undefined ? defaultValue : value;\n      };\n\n      var shouldUpdate = function shouldUpdate(key, defaultValue) {\n        var previous = useDefault(prevProps.properties[key], defaultValue);\n        var current = useDefault(_this2.props.properties[key], defaultValue);\n        return previous !== current;\n      };\n\n      var updatePublisherProperty = function updatePublisherProperty(key, defaultValue) {\n        if (shouldUpdate(key, defaultValue)) {\n          var value = useDefault(_this2.props.properties[key], defaultValue);\n          _this2.state.publisher[key](value);\n        }\n      };\n\n      if (shouldUpdate('videoSource', undefined)) {\n        this.destroyPublisher();\n        this.createPublisher();\n        return;\n      }\n\n      updatePublisherProperty('publishAudio', true);\n      updatePublisherProperty('publishVideo', true);\n\n      if (this.state.session !== prevState.session) {\n        this.destroyPublisher(prevState.session);\n        this.createPublisher();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.state.session) {\n        this.state.session.off('sessionConnected', this.sessionConnectedHandler);\n      }\n\n      this.destroyPublisher();\n    }\n  }, {\n    key: 'getPublisher',\n    value: function getPublisher() {\n      return this.state.publisher;\n    }\n  }, {\n    key: 'destroyPublisher',\n    value: function destroyPublisher() {\n      var _this3 = this;\n\n      var session = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.session;\n\n      delete this.publisherId;\n\n      if (this.state.publisher) {\n        this.state.publisher.off('streamCreated', this.streamCreatedHandler);\n\n        if (this.props.eventHandlers && _typeof(this.props.eventHandlers) === 'object') {\n          this.state.publisher.once('destroyed', function () {\n            _this3.state.publisher.off(_this3.props.eventHandlers);\n          });\n        }\n\n        if (session) {\n          session.unpublish(this.state.publisher);\n        }\n        this.state.publisher.destroy();\n      }\n    }\n  }, {\n    key: 'publishToSession',\n    value: function publishToSession(publisher) {\n      var _this4 = this;\n\n      var publisherId = this.publisherId;\n\n\n      this.state.session.publish(publisher, function (err) {\n        if (publisherId !== _this4.publisherId) {\n          // Either this publisher has been recreated or the\n          // component unmounted so don't invoke any callbacks\n          return;\n        }\n        if (err) {\n          _this4.errorHandler(err);\n        } else if (typeof _this4.props.onPublish === 'function') {\n          _this4.props.onPublish();\n        }\n      });\n    }\n  }, {\n    key: 'createPublisher',\n    value: function createPublisher() {\n      var _this5 = this;\n\n      if (!this.state.session) {\n        this.setState({ publisher: null, lastStreamId: '' });\n        return;\n      }\n\n      var properties = this.props.properties || {};\n      var container = void 0;\n\n      if (properties.insertDefaultUI !== false) {\n        container = document.createElement('div');\n        container.setAttribute('class', 'OTPublisherContainer');\n        this.node.appendChild(container);\n      }\n\n      this.publisherId = (0, _uuid2.default)();\n      var publisherId = this.publisherId;\n\n\n      this.errorHandler = (0, _once2.default)(function (err) {\n        if (publisherId !== _this5.publisherId) {\n          // Either this publisher has been recreated or the\n          // component unmounted so don't invoke any callbacks\n          return;\n        }\n        if (typeof _this5.props.onError === 'function') {\n          _this5.props.onError(err);\n        }\n      });\n\n      var publisher = OT.initPublisher(container, properties, function (err) {\n        if (publisherId !== _this5.publisherId) {\n          // Either this publisher has been recreated or the\n          // component unmounted so don't invoke any callbacks\n          return;\n        }\n        if (err) {\n          _this5.errorHandler(err);\n        } else if (typeof _this5.props.onInit === 'function') {\n          _this5.props.onInit();\n        }\n      });\n      publisher.on('streamCreated', this.streamCreatedHandler);\n\n      if (this.props.eventHandlers && _typeof(this.props.eventHandlers) === 'object') {\n        var handles = (0, _fp.omitBy)(_fp.isNil)(this.props.eventHandlers);\n        publisher.on(handles);\n      }\n\n      if (this.state.session.connection) {\n        this.publishToSession(publisher);\n      } else {\n        this.state.session.once('sessionConnected', this.sessionConnectedHandler);\n      }\n\n      this.setState({ publisher: publisher, lastStreamId: '' });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style;\n\n      return _react2.default.createElement('div', { className: className, style: style, ref: function ref(node) {\n          _this6.node = node;\n        } });\n    }\n  }]);\n\n  return OTPublisher;\n}(_react.Component);\n\nexports.default = OTPublisher;\n\n\nOTPublisher.propTypes = {\n  session: _propTypes2.default.shape({\n    connection: _propTypes2.default.shape({\n      connectionId: _propTypes2.default.string\n    }),\n    once: _propTypes2.default.func,\n    off: _propTypes2.default.func,\n    publish: _propTypes2.default.func,\n    unpublish: _propTypes2.default.func\n  }),\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object, // eslint-disable-line react/forbid-prop-types\n  properties: _propTypes2.default.object, // eslint-disable-line react/forbid-prop-types\n  eventHandlers: _propTypes2.default.objectOf(_propTypes2.default.func),\n  onInit: _propTypes2.default.func,\n  onPublish: _propTypes2.default.func,\n  onError: _propTypes2.default.func\n};\n\nOTPublisher.defaultProps = {\n  session: null,\n  className: '',\n  style: {},\n  properties: {},\n  eventHandlers: null,\n  onInit: null,\n  onPublish: null,\n  onError: null\n};\n\nOTPublisher.contextTypes = {\n  session: _propTypes2.default.shape({\n    connection: _propTypes2.default.shape({\n      connectionId: _propTypes2.default.string\n    }),\n    once: _propTypes2.default.func,\n    off: _propTypes2.default.func,\n    publish: _propTypes2.default.func,\n    unpublish: _propTypes2.default.func\n  })\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}