{"ast":null,"code":"var _jsxFileName = \"/Users/megnabiederman/Desktop/GamerECSAMPLE/client/src/Stream.js\";\nimport React from 'react';\nimport { OTSession, OTPublisher, OTStreams, OTSubscriber } from 'opentok-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Stream extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSessionError = error => {\n      this.setState({\n        error\n      });\n    };\n\n    this.onPublish = () => {\n      console.log('Publish Success');\n    };\n\n    this.onPublishError = error => {\n      this.setState({\n        error\n      });\n    };\n\n    this.onSubscribe = () => {\n      console.log('Subscribe Success');\n    };\n\n    this.onSubscribeError = error => {\n      this.setState({\n        error\n      });\n    };\n\n    this.toggleVideo = () => {\n      this.setState(state => ({\n        publishVideo: !state.publishVideo\n      }));\n    };\n\n    this.state = {\n      error: null,\n      connection: 'Connecting',\n      publishVideo: true\n    };\n    this.sessionEventHandlers = {\n      sessionConnected: () => {\n        this.setState({\n          connection: 'Connected'\n        });\n      },\n      sessionDisconnected: () => {\n        this.setState({\n          connection: 'Disconnected'\n        });\n      },\n      sessionReconnected: () => {\n        this.setState({\n          connection: 'Reconnected'\n        });\n      },\n      sessionReconnecting: () => {\n        this.setState({\n          connection: 'Reconnecting'\n        });\n      }\n    };\n    this.publisherEventHandlers = {\n      accessDenied: () => {\n        console.log('User denied access to media source');\n      },\n      streamCreated: () => {\n        console.log('Publisher stream created');\n      },\n      streamDestroyed: _ref => {\n        let {\n          reason\n        } = _ref;\n        console.log(`Publisher stream destroyed because: ${reason}`);\n      }\n    };\n    this.subscriberEventHandlers = {\n      videoEnabled: () => {\n        console.log('Subscriber video enabled');\n      },\n      videoDisabled: () => {\n        console.log('Subscriber video disabled');\n      }\n    };\n  }\n\n  render() {\n    const {\n      apiKey,\n      sessionId,\n      token\n    } = this.props.credentials;\n    const {\n      error,\n      connection,\n      publishVideo\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"sessionStatus\",\n        children: [\"Session Status: \", connection]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), \" \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(OTSession, {\n        apiKey: apiKey,\n        sessionId: sessionId,\n        token: token,\n        onError: this.onSessionError,\n        eventHandlers: this.sessionEventHandlers,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"videoButton\",\n          onClick: this.toggleVideo,\n          children: [publishVideo ? 'Disable' : 'Enable', \" Video\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OTPublisher, {\n          properties: {\n            publishVideo,\n            width: 50,\n            height: 50\n          },\n          onPublish: this.onPublish,\n          onError: this.onPublishError,\n          eventHandlers: this.publisherEventHandlers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OTStreams, {\n          children: /*#__PURE__*/_jsxDEV(OTSubscriber, {\n            properties: {\n              width: 100,\n              height: 100\n            },\n            onSubscribe: this.onSubscribe,\n            onError: this.onSubscribeError,\n            eventHandlers: this.subscriberEventHandlers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","OTSession","OTPublisher","OTStreams","OTSubscriber","Stream","Component","constructor","props","onSessionError","error","setState","onPublish","console","log","onPublishError","onSubscribe","onSubscribeError","toggleVideo","state","publishVideo","connection","sessionEventHandlers","sessionConnected","sessionDisconnected","sessionReconnected","sessionReconnecting","publisherEventHandlers","accessDenied","streamCreated","streamDestroyed","reason","subscriberEventHandlers","videoEnabled","videoDisabled","render","apiKey","sessionId","token","credentials","width","height"],"sources":["/Users/megnabiederman/Desktop/GamerECSAMPLE/client/src/Stream.js"],"sourcesContent":["import React from 'react';\nimport { OTSession, OTPublisher, OTStreams, OTSubscriber } from 'opentok-react';\n\nexport default class Stream extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n      connection: 'Connecting',\n      publishVideo: true,\n    };\n\n    this.sessionEventHandlers = {\n      sessionConnected: () => {\n        this.setState({ connection: 'Connected' });\n      },\n      sessionDisconnected: () => {\n        this.setState({ connection: 'Disconnected' });\n      },\n      sessionReconnected: () => {\n        this.setState({ connection: 'Reconnected' });\n      },\n      sessionReconnecting: () => {\n        this.setState({ connection: 'Reconnecting' });\n      },\n    };\n\n    this.publisherEventHandlers = {\n      accessDenied: () => {\n        console.log('User denied access to media source');\n      },\n      streamCreated: () => {\n        console.log('Publisher stream created');\n      },\n      streamDestroyed: ({ reason }) => {\n        console.log(`Publisher stream destroyed because: ${reason}`);\n      },\n    };\n\n    this.subscriberEventHandlers = {\n      videoEnabled: () => {\n        console.log('Subscriber video enabled');\n      },\n      videoDisabled: () => {\n        console.log('Subscriber video disabled');\n      },\n    };\n  }\n\n  onSessionError = error => {\n    this.setState({ error });\n  };\n\n  onPublish = () => {\n    console.log('Publish Success');\n  };\n\n  onPublishError = error => {\n    this.setState({ error });\n  };\n\n  onSubscribe = () => {\n    console.log('Subscribe Success');\n  };\n\n  onSubscribeError = error => {\n    this.setState({ error });\n  };\n\n  toggleVideo = () => {\n    this.setState(state => ({\n      publishVideo: !state.publishVideo,\n    }));\n  };\n\n  render() {\n    const { apiKey, sessionId, token } = this.props.credentials;\n    const { error, connection, publishVideo } = this.state;\n    return (\n      <div>\n        <div id=\"sessionStatus\">Session Status: {connection}</div>\n        {error ? (\n          <div className=\"error\">\n            <strong>Error:</strong> {error}\n          </div>\n        ) : null}\n        <OTSession\n          apiKey={apiKey}\n          sessionId={sessionId}\n          token={token}\n          onError={this.onSessionError}\n          eventHandlers={this.sessionEventHandlers}\n        >\n          <button id=\"videoButton\" onClick={this.toggleVideo}>\n            {publishVideo ? 'Disable' : 'Enable'} Video\n          </button>\n          <OTPublisher\n            properties={{ publishVideo, width: 50, height: 50, }}\n            onPublish={this.onPublish}\n            onError={this.onPublishError}\n            eventHandlers={this.publisherEventHandlers}\n          />\n          <OTStreams>\n            <OTSubscriber\n              properties={{ width: 100, height: 100 }}\n              onSubscribe={this.onSubscribe}\n              onError={this.onSubscribeError}\n              eventHandlers={this.subscriberEventHandlers}\n            />\n          </OTStreams>\n        </OTSession>\n      </div>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}